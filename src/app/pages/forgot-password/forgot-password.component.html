<div class="container">
  <img src="assets/images/logo.png" alt="">
  <form [formGroup]="passwordRecoveryForm" (ngSubmit)="onSubmit()">
    <span><i [routerLink]="['/login']" class='bx bx-left-arrow-alt'></i> <h2>Redefinir Senha</h2></span>
    <div *ngIf="!userFound; else emailSent">
      <h4>Digite o e-mail sassociado à sua conta e enviaremos instruções para redefinir sua senha.</h4>
      <div class="input-group has-validation">
        <div class="form-floating is-invalid">
          <input [class]="email!.errors?.['required'] && email!.touched ? 'is-invalid' : ''" formControlName="email" type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
          <label for="floatingInput">Informe seu email</label>
        </div>
        <div *ngIf="email!.errors?.['required'] && email!.touched" class="invalid-feedback">
          Informe um email.
        </div>
      </div>
      <button type="submit" class="btn btn-primary">Enviar Recuperação</button>
    </div>
    <ng-template #emailSent>
      <h4>Um link para redefinição de senha foi enviado para o e-mail <strong>{{ userFound.email }}</strong>.</h4>
      <button type="button" (click)="redirectToLogin()" class="btn btn-primary">Ir para login</button>
    </ng-template>
  </form>
</div>
